id,area,title,requirement_ref,acceptance,status,spec_status,impl_status,verify_status,notes
WEB-001,web,"Session list shows waiting reason + tool name","REQUIREMENTS.md:web.interaction.mvp","List uses session semantics; when pending approval, show waiting reason + session tool/model (run.tool) + pending op tool (op_tool); list has no approve/deny controls.",TODO,TODO,TODO,TODO,
WEB-002,web,"Session detail primary view is message stream","REQUIREMENTS.md:web.interaction.mvp","Opening a session shows the message stream as the main content and displays run_id/status/host_id/cwd/host online (dot+text)/tool-or-model (simple SVG icon, brand color)/permission mode metadata.",TODO,TODO,TODO,TODO,
WEB-030,web,"Permission mode read-only","REQUIREMENTS.md:web.interaction.mvp","Permission mode is display-only in session detail.",TODO,TODO,TODO,TODO,
WEB-022,web,"Session detail timestamps","REQUIREMENTS.md:web.interaction.mvp","Session detail does not display start/end timestamps.",TODO,TODO,TODO,TODO,
WEB-029,web,"Session detail last activity","REQUIREMENTS.md:web.interaction.mvp","Session detail shows last activity time (relative format).",TODO,TODO,TODO,TODO,
WEB-046,web,"Detail status color match","REQUIREMENTS.md:web.interaction.mvp","Session detail status badges use the same color rules as the list.",TODO,TODO,TODO,TODO,
WEB-050,web,"Back to list on mobile","REQUIREMENTS.md:web.interaction.mvp","In phone single-column mode, session detail provides a back-to-list control.",TODO,TODO,TODO,TODO,
WEB-051,web,"Output fullscreen control","REQUIREMENTS.md:web.interaction.mvp","Output view provides a fullscreen control using an in-page overlay with an exit button; no ESC/gesture close; keep top status and tabs visible.",TODO,TODO,TODO,TODO,
WEB-047,web,"Host name display","REQUIREMENTS.md:web.interaction.mvp","Session detail does not display host name even if server provides it.",TODO,TODO,TODO,TODO,
WEB-025,web,"Copy metadata shortcuts","REQUIREMENTS.md:web.interaction.mvp","Session detail does not provide copy shortcuts for run_id/cwd.",TODO,TODO,TODO,TODO,
WEB-026,web,"Manual refresh controls","REQUIREMENTS.md:web.interaction.mvp","Session detail provides manual refresh controls for messages and output.",TODO,TODO,TODO,TODO,
WEB-027,web,"Offline banner in session detail","REQUIREMENTS.md:web.interaction.mvp","When WebSocket is disconnected, show an offline banner in session detail with reconnect/refresh control.",TODO,TODO,TODO,TODO,
WEB-028,web,"Error summary in session detail","REQUIREMENTS.md:web.interaction.mvp","When session status is error, show summary using exit_code + last stderr snippet (truncate 200 chars).",TODO,TODO,TODO,TODO,
WEB-021,web,"Stop session control","REQUIREMENTS.md:web.interaction.mvp","Session detail provides a Stop Session control with confirmation.",TODO,TODO,TODO,TODO,
WEB-003,web,"Approval uses modal/overlay in session detail","REQUIREMENTS.md:web.interaction.mvp","When approval is pending, show an approve/deny modal or overlay in session detail showing run.tool + op_tool, with a full-args expand area and risk hint (read/write/exec); no inline approval in list.",TODO,TODO,TODO,TODO,
WEB-018,web,"Risk type uses tool-name mapping","REQUIREMENTS.md:web.interaction.mvp","Risk type can be derived from static op_tool mapping (e.g., rpc.fs.read=read, rpc.fs.write=write, bash=exec; allow with/without rpc. prefix).",TODO,TODO,TODO,TODO,
WEB-004,web,"Input via button-triggered modal","REQUIREMENTS.md:web.interaction.mvp","Session detail provides an input button that opens an input modal; no fixed input box.",TODO,TODO,TODO,TODO,
WEB-019,web,"Input modal quick actions","REQUIREMENTS.md:web.interaction.mvp","Input modal provides fixed quick actions: y/n/continue.",TODO,TODO,TODO,TODO,
WEB-020,web,"Input modal history","REQUIREMENTS.md:web.interaction.mvp","Input modal does not persist input history.",TODO,TODO,TODO,TODO,
WEB-005,web,"Sessions grouped by machine with online dot and last_seen","REQUIREMENTS.md:web.interaction.mvp","Session list groups by machine; group header shows online dot + machine name (fallback host_id) + last_seen (always).",TODO,TODO,TODO,TODO,
WEB-048,web,"Machine online dot tooltip","REQUIREMENTS.md:web.interaction.mvp","Machine online dot does not show tooltip.",TODO,TODO,TODO,TODO,
WEB-038,web,"Machine group collapse/expand","REQUIREMENTS.md:web.interaction.mvp","Machine groups support collapse/expand with persisted state.",TODO,TODO,TODO,TODO,
WEB-039,web,"Bulk collapse controls","REQUIREMENTS.md:web.interaction.mvp","No global collapse/expand controls.",TODO,TODO,TODO,TODO,
WEB-006,web,"Session ordering by last activity","REQUIREMENTS.md:web.interaction.mvp","Within each machine group, sessions are sorted by last activity descending.",TODO,TODO,TODO,TODO,
WEB-007,web,"Status badge with error rule","REQUIREMENTS.md:web.interaction.mvp","Status shows text + color badge; states include running/awaiting_approval/awaiting_input/exited/error; error if exit_code != 0 or tool.result ok=false.",TODO,TODO,TODO,TODO,
WEB-008,web,"Contextual tool and cwd display","REQUIREMENTS.md:web.interaction.mvp","Tool info only shown when awaiting approval (run.tool + op_tool); cwd only shown on wide layout.",TODO,TODO,TODO,TODO,
WEB-031,web,"Tool icon in list for pending approval","REQUIREMENTS.md:web.interaction.mvp","When awaiting approval, show session tool/model (run.tool) brand-color SVG icon in session list alongside op_tool text.",TODO,TODO,TODO,TODO,
WEB-032,web,"Tool icon affordance","REQUIREMENTS.md:web.interaction.mvp","Tool/model icons are non-interactive (no detail on click).",TODO,TODO,TODO,TODO,
WEB-009,web,"Pagination for full session history","REQUIREMENTS.md:web.interaction.mvp","Session list covers full history via infinite scroll; load 20 items per page.",TODO,TODO,TODO,TODO,
WEB-052,web,"Load more indicator","REQUIREMENTS.md:web.interaction.mvp","Show loading indicator when fetching additional session pages.",TODO,TODO,TODO,TODO,
WEB-053,web,"Empty state copy","REQUIREMENTS.md:web.interaction.mvp","Session list empty state shows no copy (blank).",TODO,TODO,TODO,TODO,
WEB-054,web,"Message empty state copy","REQUIREMENTS.md:web.interaction.mvp","Session detail message empty state shows no copy (blank).",TODO,TODO,TODO,TODO,
WEB-055,web,"Output empty state copy","REQUIREMENTS.md:web.interaction.mvp","Output view empty state shows no copy (blank).",TODO,TODO,TODO,TODO,
WEB-057,web,"Copy output","REQUIREMENTS.md:web.interaction.mvp","Output view provides a copy-all control and shows a toast on success.",TODO,TODO,TODO,TODO,
WEB-058,web,"Output download","REQUIREMENTS.md:web.interaction.mvp","Output view does not provide download-as-file.",TODO,TODO,TODO,TODO,
WEB-059,web,"Output search","REQUIREMENTS.md:web.interaction.mvp","Output view provides in-page search only (no backend query) with highlight matches (orange) and darker current match, prev/next navigation, hit count, and top-positioned search field with clear button; case-insensitive; no regex; no Enter-to-next (Enter only triggers search); no placeholder; clearing does not auto-scroll to top; not live (manual trigger via button or Enter); supports keyboard shortcuts for prev/next (↑/↓) and overrides arrow behavior while focused; auto-focus on entry (including mobile) without pausing auto-scroll.",TODO,TODO,TODO,TODO,
WEB-023,web,"Session list search/filter","REQUIREMENTS.md:web.interaction.mvp","Session list provides search/filter by session title/summary; if missing, fallback to run_id.",TODO,TODO,TODO,TODO,
WEB-033,web,"Session title display","REQUIREMENTS.md:web.interaction.mvp","Session list displays session title when provided by server; no placeholder when missing.",TODO,TODO,TODO,TODO,
WEB-034,web,"Session summary display","REQUIREMENTS.md:web.interaction.mvp","Session list displays summary when provided by server (max 60 chars); hide summary when awaiting approval; no placeholder when missing.",TODO,TODO,TODO,TODO,
WEB-035,web,"Awaiting input badge","REQUIREMENTS.md:web.interaction.mvp","Session list does not show separate awaiting-input prompt beyond status label.",TODO,TODO,TODO,TODO,
WEB-036,web,"Run id in list","REQUIREMENTS.md:web.interaction.mvp","Session list does not display run_id.",TODO,TODO,TODO,TODO,
WEB-037,web,"Last activity in list","REQUIREMENTS.md:web.interaction.mvp","Session list shows last activity time in relative format under summary.",TODO,TODO,TODO,TODO,
WEB-040,web,"Selected session highlight","REQUIREMENTS.md:web.interaction.mvp","Session list highlights the selected session with background + left accent bar.",TODO,TODO,TODO,TODO,
WEB-041,web,"Awaiting approval warning color","REQUIREMENTS.md:web.interaction.mvp","Awaiting-approval state uses warning colors (yellow/orange).",TODO,TODO,TODO,TODO,
WEB-042,web,"Error state color","REQUIREMENTS.md:web.interaction.mvp","Error state uses red color.",TODO,TODO,TODO,TODO,
WEB-043,web,"Running state color","REQUIREMENTS.md:web.interaction.mvp","Running state uses green color.",TODO,TODO,TODO,TODO,
WEB-044,web,"Exited state color","REQUIREMENTS.md:web.interaction.mvp","Exited state uses gray color.",TODO,TODO,TODO,TODO,
WEB-045,web,"Awaiting input state color","REQUIREMENTS.md:web.interaction.mvp","Awaiting-input state uses orange color.",TODO,TODO,TODO,TODO,
WEB-049,web,"Status tooltip","REQUIREMENTS.md:web.interaction.mvp","Status labels do not show tooltips.",TODO,TODO,TODO,TODO,
WEB-024,web,"Unread indicators","REQUIREMENTS.md:web.interaction.mvp","Session list does not show unread indicators.",TODO,TODO,TODO,TODO,
WEB-010,web,"Connection indicator and polling fallback","REQUIREMENTS.md:web.interaction.mvp","Top bar shows connection status (dot + text); when WS disconnected, poll runs/hosts every 10s.",TODO,TODO,TODO,TODO,
WEB-011,web,"Session detail has Messages/Output tabs","REQUIREMENTS.md:web.interaction.mvp","Session detail provides tabs to switch between message stream and output view; tabs appear at top of detail.",TODO,TODO,TODO,TODO,
WEB-012,web,"Output auto-scroll with user pause","REQUIREMENTS.md:web.interaction.mvp","Output view auto-scrolls by default; if user manually scrolls, auto-scroll pauses.",TODO,TODO,TODO,TODO,
WEB-013,web,"Responsive breakpoints for phone/tablet/desktop","REQUIREMENTS.md:web.interaction.mvp","<=640 uses single-column list->detail; 641–1024 uses split view; >=1025 uses split view with 320–360px list width.",TODO,TODO,TODO,TODO,
WEB-014,web,"Output buffer adapts to viewport height","REQUIREMENTS.md:web.interaction.mvp","Output view keeps bufferLines based on view height: bufferLines = clamp(floor(viewHeight/lineHeight) * 4, 200, 2000).",TODO,TODO,TODO,TODO,
WEB-015,web,"Output jump-to-latest control","REQUIREMENTS.md:web.interaction.mvp","When output auto-scroll is paused by user scroll, show a 'jump to latest' control.",TODO,TODO,TODO,TODO,
WEB-016,web,"Output auto-scroll pause/resume control","REQUIREMENTS.md:web.interaction.mvp","Output view provides explicit pause/resume control for auto-scroll; default is auto-scroll on; jump-to-latest resumes auto-scroll; show paused status label when off (top-right of output area) and clicking it resumes auto-scroll.",TODO,TODO,TODO,TODO,
WEB-060,web,"Output auto-scroll auto-resume","REQUIREMENTS.md:web.interaction.mvp","If auto-scroll is paused (including via pause button), resume automatically 10s after last manual scroll; no toast on resume.",TODO,TODO,TODO,TODO,
WEB-017,web,"Approval request card in message stream","REQUIREMENTS.md:web.interaction.mvp","When approval is pending, insert an approval request card into the message stream showing run.tool + op_tool, args summary (max 80 chars), and request time.",TODO,TODO,TODO,TODO,
WEB-056,web,"Message role styling","REQUIREMENTS.md:web.interaction.mvp","Message stream aligns user right, assistant left, system center; system messages are smaller, muted, and text-only (no bubble); user/assistant use bubble backgrounds (user brand color, assistant neutral gray) with max-width 70%; user/assistant/system show absolute-time timestamps below bubbles; long text wraps and preserves newlines.",TODO,TODO,TODO,TODO,
SRV-001,server,"Track run last_active_at","REQUIREMENTS.md:web.interaction.mvp","Server tracks per-run last_active_at based on host events and orders /runs and /sessions by last activity (fallback started_at).",DONE,DONE,DONE,DONE,"Verified: cargo test -p relay-server"
SRV-002,server,"Persist pending approval metadata","REQUIREMENTS.md:web.interaction.mvp","Server persists pending permission metadata from run.permission_requested and sets status awaiting_approval; clears pending fields on run.input/run.exited.",DONE,DONE,DONE,DONE,"Verified: cargo test -p relay-server"
SRV-003,server,"Clear pending on tool.result","REQUIREMENTS.md:web.interaction.mvp","If a tool.result arrives with request_id matching runs.pending_request_id, server clears pending fields and returns status to running.",DONE,DONE,DONE,DONE,"Verified: cargo test -p relay-server"
HST-001,hostd,"Permission-gated rpc.fs.write and rpc.bash","REQUIREMENTS.md:web.interaction.mvp","hostd emits run.permission_requested with op_tool/op_args/op_args_summary for permission-gated RPC tools and waits for run.permission.approve/deny before executing; emits tool.call/tool.result and replies with rpc.response.",DONE,DONE,DONE,DONE,"Verified: cargo test -p relay-hostd"
